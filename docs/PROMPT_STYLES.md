# 提示词风格配置说明

## 概述

系统支持三种提示词风格，可通过修改 `.env` 文件中的 `PROMPT_STYLE` 配置快速切换。

## 三种风格对比

### 1. Conservative (保守策略) - 风险级别: 1-3/10

**适用场景**: 熊市、高波动期、资金保护优先

**特点**:
- ✅ 风险优先，资本保护第一
- ✅ 严格止损，风险收益比 >2.0
- ✅ 高信心度门槛
- ✅ 高现金比例

**参数**:
```bash
PROMPT_STYLE=conservative
```

**详细配置**:
- 风险收益比要求: **>2.0**
- 开仓信心度门槛:
  - aggressive 模式: **≥0.70**
  - normal 模式: **≥0.75**
  - conservative 模式: **≥0.80**
  - defensive 模式: **≥0.90**
- 现金比例:
  - 牛市: **20-30%**
  - 熊市: **60-80%**
  - 恐慌: **90-100%**

---

### 2. Balanced (中性策略) - 风险级别: 4-6/10 ⭐ 默认

**适用场景**: 正常市场、长期稳定盈利

**特点**:
- 🔵 风险收益平衡
- 🔵 标准风控，适度门槛
- 🔵 抓住优质机会
- 🔵 灵活调整

**参数**:
```bash
PROMPT_STYLE=balanced
```

**详细配置**:
- 风险收益比要求: **>1.2**
- 开仓信心度门槛:
  - aggressive 模式: **≥0.55**
  - normal 模式: **≥0.65**
  - conservative 模式: **≥0.70**
  - defensive 模式: **≥0.80**
- 现金比例:
  - 牛市: **10-20%**
  - 熊市: **40-60%**
  - 恐慌: **70-90%**

---

### 3. Aggressive (激进策略) - 风险级别: 7-8/10

**适用场景**: 牛市、明确趋势、追求高收益

**特点**:
- 🔴 机会优先，积极进取
- 🔴 适度止损，追求高收益
- 🔴 低信心度门槛
- 🔴 低现金比例

**参数**:
```bash
PROMPT_STYLE=aggressive
```

**详细配置**:
- 风险收益比要求: **>1.0**
- 开仓信心度门槛:
  - aggressive 模式: **≥0.50**
  - normal 模式: **≥0.60**
  - conservative 模式: **≥0.65**
  - defensive 模式: **≥0.75**
- 现金比例:
  - 牛市: **5-10%**
  - 熊市: **20-40%**
  - 恐慌: **50-70%**

---

## 快速切换

### 方法1: 修改 .env 文件

```bash
# 编辑 .env 文件
vim .env

# 找到这一行并修改
PROMPT_STYLE=balanced  # 改为 conservative 或 aggressive

# 保存后重启系统
```

### 方法2: 环境变量

```bash
# 临时设置（当次运行有效）
export PROMPT_STYLE=aggressive
python main_new.py

# 或直接在启动时指定
PROMPT_STYLE=conservative python main_new.py
```

---

## 三种风格可视化对比

```
【保守 Conservative】
├─ 风险收益比: >2.0  ✅✅✅
├─ 信心度门槛: 0.70-0.90 (高) ⬆️⬆️
├─ 现金比例: 20-100% (高) 💵💵💵
└─ 适合场景: 熊市、保护资金 🛡️

【中性 Balanced】 ⭐ 推荐
├─ 风险收益比: >1.2  ✅✅
├─ 信心度门槛: 0.55-0.80 (中) ⬆️
├─ 现金比例: 10-90% (中) 💵💵
└─ 适合场景: 正常市场、长期稳定 📈

【激进 Aggressive】
├─ 风险收益比: >1.0  ✅
├─ 信心度门槛: 0.50-0.75 (低) ⬆️
├─ 现金比例: 5-70% (低) 💵
└─ 适合场景: 牛市、趋势明确 🚀
```

---

## 实际效果示例

### Conservative (保守)
```
BTC 信号: confidence=0.68 → ❌ 不开仓 (需要≥0.70)
ETH 信号: confidence=0.76 → ✅ 可开仓
现金保留: 65% → 保护资金
```

### Balanced (中性)
```
BTC 信号: confidence=0.68 → ✅ 可开仓 (需要≥0.65)
ETH 信号: confidence=0.76 → ✅ 可开仓
现金保留: 35% → 平衡配置
```

### Aggressive (激进)
```
BTC 信号: confidence=0.68 → ✅ 可开仓 (需要≥0.60)
ETH 信号: confidence=0.76 → ✅ 可开仓
现金保留: 15% → 积极投资
```

---

## 建议

1. **新手/小资金**: 使用 `conservative`，优先保护本金
2. **正常交易**: 使用 `balanced` (默认)，平衡风险收益
3. **经验丰富/牛市**: 使用 `aggressive`，追求高收益
4. **市场不确定时**: 临时切换到 `conservative`
5. **明确趋势时**: 临时切换到 `aggressive`

---

## 注意事项

⚠️ **风险提示**:
- `aggressive` 模式虽然收益潜力高，但风险也更大
- 建议根据市场环境动态调整
- 切换风格后需要重启系统才能生效

📊 **监控建议**:
- 定期检查胜率和盈亏比
- 如果胜率<50%，考虑切换到更保守的风格
- 如果错过太多机会，考虑切换到更激进的风格

🔄 **动态调整**:
- 牛市初期: `balanced`
- 牛市中期: `aggressive`
- 市场转熊: `conservative`
- 震荡市: `balanced`
